@namespace url("http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul");

/*
 * These themes go well with this:
 *
 * - https://addons.mozilla.org/en-US/firefox/addon/white-glossy-look/
 * - https://addons.mozilla.org/en-US/firefox/addon/simple-def/
 * - https://addons.mozilla.org/en-US/firefox/addon/androidflat/
 * - https://addons.mozilla.org/en-US/firefox/addon/matte-black-v2/
 */

/* 
 * Settings
 */

/* #titlebar {display: none !important;} */
/* #main-window {-moz-appearance:none !important;} */

:root {
  /* Fade-in and fade-out speeds */
  --stealth-fade-in-speed: 50ms;
  --stealth-fade-out-speed: 250ms;
  /* The height of the bar; avoid adjusting this. */
  --bar-height: 40px;
  /* The tab close button for the active tabs */
  --tab-close-button-opacity: 0.4;
  /* Opacity of the currently-selected tab */
  --active-tab-opacity: 0.8;
  /* Line under the active tab. Not really needed, */
  /* but it can make the toolbar feel more toolbar-like, lol. */
  --tab-underline-opacity: 0.4;
  /* Extra padding in CSD mode. */
  /* Only applies when 'title bar' is unchecked in 'customize'. */
  --titlebar-padding-left: 80px;
  --titlebar-padding-right: 80px;
}

#alltabs-button {
  -moz-binding: url(data:text/xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIj8+DQo8IS0tIENvcHlyaWdodCAoYykgMjAxNyBIYWdnYWkgTnVjaGkNCkF2YWlsYWJsZSBmb3IgdXNlIHVuZGVyIHRoZSBNSVQgTGljZW5zZToNCmh0dHBzOi8vb3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvTUlUDQogLS0+DQoNCjwhLS0gUnVuIHVzZXJDaHJvbWUuanMvdXNlckNocm9tZS54dWwgYW5kIC51Yy5qcy8udWMueHVsLy5jc3MgZmlsZXMgIC0tPg0KPGJpbmRpbmdzIHhtbG5zPSJodHRwOi8vd3d3Lm1vemlsbGEub3JnL3hibCI+DQogICAgPGJpbmRpbmcgaWQ9ImpzIiBleHRlbmRzPSJjaHJvbWU6Ly9nbG9iYWwvY29udGVudC9iaW5kaW5ncy90b29sYmFyYnV0dG9uLnhtbCNtZW51Ij4NCiAgICAgICAgPGltcGxlbWVudGF0aW9uPg0KICAgICAgICAgICAgPGNvbnN0cnVjdG9yPjwhW0NEQVRBWw0KICAgICAgICAgICAgICAgIGlmKHdpbmRvdy51c2VyQ2hyb21lSnNNb2QpIHJldHVybjsNCiAgICAgICAgICAgICAgICB3aW5kb3cudXNlckNocm9tZUpzTW9kID0gdHJ1ZTsNCiAgICAgICAgICAgICAgICANCiAgICAgICAgICAgICAgICB2YXIgY2hyb21lRmlsZXMgPSBGaWxlVXRpbHMuZ2V0RGlyKCJVQ2hybSIsIFtdKS5kaXJlY3RvcnlFbnRyaWVzOw0KICAgICAgICAgICAgICAgIHZhciB4dWxGaWxlcyA9IFtdOw0KICAgICAgICAgICAgICAgIHZhciBzc3MgPSBDY1snQG1vemlsbGEub3JnL2NvbnRlbnQvc3R5bGUtc2hlZXQtc2VydmljZTsxJ10uZ2V0U2VydmljZShDaS5uc0lTdHlsZVNoZWV0U2VydmljZSk7DQogICAgICAgICAgICAgICAgDQogICAgICAgICAgICAgICAgd2hpbGUoY2hyb21lRmlsZXMuaGFzTW9yZUVsZW1lbnRzKCkpIHsNCiAgICAgICAgICAgICAgICAgICAgdmFyIGZpbGUgPSBjaHJvbWVGaWxlcy5nZXROZXh0KCkuUXVlcnlJbnRlcmZhY2UoQ2kubnNJRmlsZSk7DQogICAgICAgICAgICAgICAgICAgIHZhciBmaWxlVVJJID0gU2VydmljZXMuaW8ubmV3RmlsZVVSSShmaWxlKTsNCiAgICAgICAgICAgICAgICAgICAgDQogICAgICAgICAgICAgICAgICAgIGlmKGZpbGUuaXNGaWxlKCkpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGlmKC8oXnVzZXJDaHJvbWV8XC51YylcLmpzJC9pLnRlc3QoZmlsZS5sZWFmTmFtZSkpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBTZXJ2aWNlcy5zY3JpcHRsb2FkZXIubG9hZFN1YlNjcmlwdFdpdGhPcHRpb25zKGZpbGVVUkkuc3BlYywge3RhcmdldDogd2luZG93LCBpZ25vcmVDYWNoZTogdHJ1ZX0pOw0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZigvKF51c2VyQ2hyb21lfFwudWMpXC54dWwkL2kudGVzdChmaWxlLmxlYWZOYW1lKSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHh1bEZpbGVzLnB1c2goZmlsZVVSSS5zcGVjKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYoL1wuYXNcLmNzcyQvaS50ZXN0KGZpbGUubGVhZk5hbWUpKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoIXNzcy5zaGVldFJlZ2lzdGVyZWQoZmlsZVVSSSwgc3NzLkFHRU5UX1NIRUVUKSkNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3NzLmxvYWRBbmRSZWdpc3RlclNoZWV0KGZpbGVVUkksIHNzcy5BR0VOVF9TSEVFVCk7DQogICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmKC9eKD8hKHVzZXJDaHJvbWV8dXNlckNvbnRlbnQpXC5jc3MkKS4rXC5jc3MkL2kudGVzdChmaWxlLmxlYWZOYW1lKSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKCFzc3Muc2hlZXRSZWdpc3RlcmVkKGZpbGVVUkksIHNzcy5VU0VSX1NIRUVUKSkNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3NzLmxvYWRBbmRSZWdpc3RlclNoZWV0KGZpbGVVUkksIHNzcy5VU0VSX1NIRUVUKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICANCiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uIGxvYWRYVUwoKSB7DQogICAgICAgICAgICAgICAgICAgIGlmKHh1bEZpbGVzLmxlbmd0aCA+IDApIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmxvYWRPdmVybGF5KHh1bEZpbGVzLnNoaWZ0KCksIG51bGwpOw0KICAgICAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChsb2FkWFVMLCA1KTsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH0sIDApOw0KICAgICAgICAgICAgXV0+PC9jb25zdHJ1Y3Rvcj4NCiAgICAgICAgPC9pbXBsZW1lbnRhdGlvbj4NCiAgICA8L2JpbmRpbmc+DQo8L2JpbmRpbmdzPg==);
}

/* #browser vbox#appcontent tabbrowser,
#content,
#tabbrowser-tabpanels,
browser[type=content-primary],
browser[type=content] > html {
  background: var(--in-content-page-background)!important
} */

/*
 * Remove vertical line to the left of the hamburger.
 */

#PanelUI-button {
  margin-left: -3px !important;
  border-left: 0 !important;
}

/*
 * Tabs
 */

/* Hide the 2px highlight line above tabs. */
#main-window:not([customizing]) .tab-line {
  display: none !important;
}

/* Remove the 1px top border */
#main-window:not([customizing]) .tab-background {
  border-top: 0 !important;
}

/* Tab underline */
#main-window:not([customizing]) .tab-background {
  box-shadow: inset 0 -1px rgba(0, 0, 0, var(--tab-underline-opacity));
}

/* 1px left-right borders of the selected tab */
.tabbrowser-tab::before,
.tabbrowser-tab::after,
.tabbrowser-tab[visuallyselected]::before,
.tabbrowser-tab[visuallyselected]::after {
  opacity: 0.1 !important;
}

/* 1px bottom border */
#TabsToolbar:not([collapsed="true"]) + #nav-bar {
  box-shadow: 0 -1px 0 #6662 !important;
}

/* Hide close button, except for the active one. */
.tab-close-button {
  opacity: 0 !important;
}
.tab-icon-image {
  display: none !important;
}
.tabbrowser-tab:hover .tab-close-button {
  opacity: 0.25 !important;
}

.tabbrowser-tab[visuallyselected] .tab-close-button {
  opacity: 1 !important;
}

.tabs-newtab-button {
  transform: scale(0.75) !important;
}

.tabs-newtab-button:not(:hover) {
  opacity: var(--tab-close-button-opacity);
}

/*
 * Remove back button highlight
 */

#back-button > .toolbarbutton-icon {
  background: transparent !important;
  border: 0 !important;
}

/* Taken from :root[uidensity="touch"] #titlebar, this forces
 * tabs to have the 'touch'-size heights. */
#titlebar#titlebar,
#titlebar#tabbrowser-tabs {
  --tab-min-height: calc(var(--bar-height) + 1px);
}

#main-window:not([customizing]) #navigator-toolbox {
  overflow: hidden !important;
}

#main-window:not([customizing]) #TabsToolbar,
#main-window:not([customizing]) #nav-bar {
  transition: opacity var(--stealth-fade-out-speed) ease-out,
    transform var(--stealth-fade-out-speed) ease-in !important;
}

#main-window:not([customizing]) #TabsToolbar {
  height: calc(var(--bar-height)) !important;
  transform: translate3d(0, 0, 0) !important;
}

#main-window:not([customizing]) #nav-bar {
  height: calc(var(--bar-height)) !important;
  transform: translate3d(0, calc(0.2 * var(--bar-height)), 0) !important;
  opacity: 0 !important;
  margin-top: calc(-1 * var(--bar-height) - 1px) !important;
  pointer-events: none !important;
}

/* Fade-in speed for focusing */
#main-window:not([customizing]) #navigator-toolbox:focus-within #nav-bar,
#main-window:not([customizing]) #navigator-toolbox:focus-within #TabsToolbar {
  transition: opacity var(--stealth-fade-in-speed) ease-in,
    transform var(--stealth-fade-in-speed) ease-in !important;
}

/* For pressing [alt] on Linux, don't do any animations. The menu shows up */
/* abruptly, anyway. */
#toolbar-menubar[autohide]:not([inactive]):not([customizing]) ~ #nav-bar,
#toolbar-menubar[autohide]:not([inactive]):not([customizing]) ~ #TabsToolbar {
  transition: none !important;
}

#toolbar-menubar[autohide]:not([inactive]):not([customizing]) ~ #nav-bar,
#main-window:not([customizing]) #navigator-toolbox:focus-within #nav-bar {
  opacity: 1 !important;
  z-index: 100 !important;
  pointer-events: auto !important;
  transform: translate3d(0, 0, 0) !important;
}

#toolbar-menubar[autohide]:not([inactive]):not([customizing]) ~ #TabsToolbar,
#main-window:not([customizing]) #navigator-toolbox:focus-within #TabsToolbar {
  opacity: 0 !important;
  pointer-events: none !important;
  transform: translate3d(0, calc(-0.5 * var(--bar-height)), 0) !important;
}

#main-window:not([customizing]) .tab-background {
  opacity: var(--active-tab-opacity) !important;
  height: var(--bar-height) !important;
}

.tab-label {
  font-size: 0.85em !important;
}

#urlbar {
  border: 0 !important;
  box-shadow: 0 0 0 1px rgba(0, 0, 0, 0.1), 0 1px 2px rgba(0, 0, 0, 0.1) !important;
}

/* CSD mode */
#main-window[tabsintitlebar="true"][chromemargin]:not([customizing]) #nav-bar {
  padding-left: var(--titlebar-padding-left) !important;
  padding-right: var(--titlebar-padding-right) !important;
}
scrollbar,
scrollbar *,
scrollcorner {
  -moz-appearance: none !important;
  --scrollbar-width: 6px;
  --scrollbar-height: var(--scrollbar-width);
}

scrollbar,
scrollcorner {
  background: transparent !important;
}
scrollbar[orient="vertical"] {
  width: var(--scrollbar-width) !important;
  min-width: var(--scrollbar-width) !important;
}
scrollbar[orient="horizontal"] {
  height: var(--scrollbar-height) !important;
  min-height: var(--scrollbar-height) !important;
}

scrollbar thumb {
  background: #3a3a3a80 !important;
}
scrollbar thumb:hover,
scrollbar thumb:active {
  background: #282c34c9 !important;
}

scrollbar:inactive scrollbarbutton {
  background-color: #444444 !important;
}
scrollbar scrollbarbutton:inactive {
  background: #3a3a3a !important;
}
scrollbar scrollbarbutton:inactive {
  background: #545454 !important;
}
scrollbar scrollbarbutton {
  display: none !important;
}
